<!--/*******************************************************************************
Copyright Â© 2015 DuPont. All rights reserved. 
Author: Rohit saini
Email: rohitkumar.saini@tcs.com
Description:  VF page for search Case details
 
********************************************************************************/-->
 <apex:page Controller="ctrlBPDSampleViewByActive2">
    <!--  <apex:includeScript value="{!URLFOR($Resource.CS_JQueryUI, '/jquery.min.js')}" />
     <style>
    
.spinnerCt {
    left: 50%;
    top: 35%;
    position: fixed;
    z-index: 1050;
    padding: 20px 40px;
    box-shadow: 0pt 2px 5px rgb(172, 172, 172);
    border-radius: 1em 1em 1em 1em;
    border: 1px solid rgb(206, 236, 255);
    background-color: rgb(206, 236, 255);
    background-style: solid;
}

.spinner {
    padding: 10px 15px 10px 0pt;
    vertical-align: middle;
    float: left
}

.spinnerCt .loadingIndicator {
    display: inline;
    font-size: 135%;
    font-weight: bold;
    float: left
}

.mask {
    width: 100%;
    height: 100%;
    background-color: rgb(0, 0, 0);
    opacity: 0.45;
    filter: alpha(opacity =     45);
    position: absolute;
    z-index: 1000;
    top: 0pt;
    left: 0pt;
}
</style>
    <apex:sectionHeader title="Cases by Active Ingredient"/>
    <apex:form >
        <apex:actionStatus id="counterStatus">
            <apex:facet name="start">
                <div class="spinnerMask" id="spinnerMask">
                    <div class="spinnerCt">
                        <img src="/img/analytics/reportbuilder/icons/spinner32.gif" alt="Loading..." width="32" height="32" class="spinner" title="Loading..." />
                        <div class="loadingIndicator">Loading...</div>
                    </div>
                    <div class="mask"></div>
                </div>
            </apex:facet>
        </apex:actionStatus>
    
        <apex:pageBlock id="block2" >
                <apex:pageMessages />
            <apex:pageblocksection columns="2">
                    
                    <apex:selectList value="{!selectedObject}" size="1" id="selectObject" >
                        <apex:actionsupport action="{!showFields}" reRender="block2" event="onchange" />
                        <apex:selectOptions value="{!objectNames}"/>
                    </apex:selectList>
                    
                
                <apex:selectList value="{!selectedField}" size="1" id="selectedField" >
                        <apex:selectOptions value="{!fields}" />
                </apex:selectList>
               
                
                <apex:selectList value="{!selectedCriteria}" size="1"  >
                    <apex:selectOptions value="{!searchCriteria}"/>
                </apex:selectList>
               
                <apex:inputtext value="{!searchtext}" title="Search text" />
                
                <apex:commandButton value="Search records" action="{!searchRecords}" reRender="block2, block3" status="counterStatus"/>
            </apex:pageblocksection>
        
       </apex:pageBlock>
       
       <apex:outputlabel value="No Records to Display" rendered="false"/>
       <apex:pageBlock id="block3" >
          <apex:pageblocktable value="{!caseDetails}" var="rec" id="id1" rendered="{!IF(records1!=null && records1.size>0, true, false)}" >
             <apex:column headerValue="Case Record"  width="15%">
              <apex:outputLink value="/{!rec.Related_Case__c}">{!rec.Related_Case__r.CaseNumber}</apex:outputLink>
              </apex:column>
              <apex:column headerValue="Company" value="{!rec.Company__c}" width="15%"/>
              <apex:column headerValue="Country" value="{!rec.Country_Text__c}" width="15%"/>
              <apex:column headerValue="Facts of case" value="{!rec.Facts_of_the_Case__c}" width="40%"/>
              <apex:column headerValue="Open Date " value="{!rec.Date_Opened__c}" width="15%" />
          </apex:pageblocktable>
          <apex:pageblocktable value="{!SamplesPurchases}" var="rec" id="id2" rendered="{!IF(records2!=null && records2.size>0, true, false)}" >
              <apex:column headerValue="Sample Link"  width="15%" >
                  <apex:outputLink value="/{!rec.Id}">{!rec.name}</apex:outputLink>
              </apex:column>
              <apex:column headerValue="Sample Name" value="{!rec.Sample_Name__c}" width="30%"/>
              <apex:column headerValue="Active Ingredients" value="{!rec.Active_Ingredients__c}" width="40%"/>
              <apex:column headerValue="Label Name" value="{!rec.Label_Name__c}" width="30%"/>
              
          </apex:pageblocktable>
          
           
        
          <apex:pageblocktable value="{!SampleAnalysis}" var="rec" id="id3" rendered="{!IF(records3!=null && records3.size>0, true, false)}">
              <apex:column headerValue="Sample analysis name"  width="15%" >
                  <apex:outputLink value="/{!rec.Id}">{!rec.Name}</apex:outputLink>
              </apex:column>
              <apex:column headerValue="Lab name" value="{!rec.Lab_Name__c}" width="15%"/>
              <apex:column headerValue="Overall conclusion" value="{!rec.Overall_Conclusion__c}" width="25%"/>
              <apex:column headerValue="Summary information" value="{!rec.Summary__c}" width="15%"/>
              <apex:column headerValue="Actives found by HPLC" value="{!rec.Active_for_Brand_found_in_HPLC1__c}" width="15%"/>
              <apex:column headerValue="Compound(s) found by FTIR" value="{!rec.Compounds_found_in_FTIR__c}" width="15%"/>
              
          </apex:pageblocktable>
          
          
          <apex:outputPanel style="float: left; text-align: center; padding: 10px 0px 10px 0px; width: 100%;" >
              <apex:commandButton action="{!First}" rerender="block3" value="First Page" disabled="{!!hasPrev}"/>
              <apex:commandButton action="{!prev}" rerender="block3" value="Previous Page" disabled="{!!hasPrev}"/>
              <apex:commandButton action="{!next}" rerender="block3" value="Next Page" disabled="{!!hasNext}"/>
              <apex:commandButton action="{!Last}" rerender="block3" value="Last Page" disabled="{!!hasNext}" />
         </apex:outputPanel>
      
  <apex:outputText >{!(pageNumber * size)+1-size}-{!IF(AND(NOT(ISBLANK(pageNumber * size)),(pageNumber * size)>noOfRecords),noOfRecords,(pageNumber * size))} of {!noOfRecords } </apex:outputText>
        
         
           
           
       </apex:pageBlock>

   </apex:form> -->
</apex:page>