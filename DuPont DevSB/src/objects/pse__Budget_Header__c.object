<?xml version="1.0" encoding="UTF-8"?>
<CustomObject xmlns="http://soap.sforce.com/2006/04/metadata">
    <actionOverrides>
        <actionName>Accept</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>CancelEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Clone</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Delete</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Edit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>List</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>New</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>SaveEdit</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>Tab</actionName>
        <type>Default</type>
    </actionOverrides>
    <actionOverrides>
        <actionName>View</actionName>
        <type>Default</type>
    </actionOverrides>
    <allowInChatterGroups>false</allowInChatterGroups>
    <compactLayoutAssignment>SYSTEM</compactLayoutAssignment>
    <customHelpPage>pse__BudgetHeaderHelp</customHelpPage>
    <deploymentStatus>Deployed</deploymentStatus>
    <deprecated>false</deprecated>
    <description>When you create a budget of type “Vendor Purchase Order” or “Vendor Purchase Order Change Request” (in order to budget for outbound vendor purchase orders), PSA creates a related budget header record automatically. The budget header sets and enforces limits and overruns that apply to the budget and expense amounts. They also group budgets together per vendor account and project currency: so you can contain vendor budgets for different projects in one header record.

Budgets have a lookup relationship to budget headers.</description>
    <enableActivities>false</enableActivities>
    <enableBulkApi>true</enableBulkApi>
    <enableChangeDataCapture>false</enableChangeDataCapture>
    <enableEnhancedLookup>false</enableEnhancedLookup>
    <enableFeeds>false</enableFeeds>
    <enableHistory>false</enableHistory>
    <enableReports>true</enableReports>
    <enableSearch>true</enableSearch>
    <enableSharing>true</enableSharing>
    <enableStreamingApi>true</enableStreamingApi>
    <externalSharingModel>ReadWrite</externalSharingModel>
    <fields>
        <fullName>Legacy_One_DuPont_SFID__c</fullName>
        <caseSensitive>false</caseSensitive>
        <description>This field is populated with the legacy One DuPont SF ID and was used during the split to map related records during the split and insert process to maintain the migrated record’s parent child record relationships.</description>
        <externalId>true</externalId>
        <inlineHelpText>This is the pre-split original 18 digit Salesforce ID of this record that came from the original One Dupont Salesforce instance before the business units were separated.  Its is case insensitive and unique.</inlineHelpText>
        <label>Legacy One DuPont SFID</label>
        <length>18</length>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Text</type>
        <unique>true</unique>
    </fields>
    <fields>
        <fullName>pse__Account__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Account</label>
        <referenceTo>Account</referenceTo>
        <relationshipName>Budget_Headers</relationshipName>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>pse__Active__c</fullName>
        <defaultValue>true</defaultValue>
        <deprecated>false</deprecated>
        <description>Only one active project at a time for project and account combination</description>
        <externalId>false</externalId>
        <label>Active</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>pse__Amount_Consumed__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Amount Consumed</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Amount_Overrun_Allowed__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Amount Overrun Allowed</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>pse__Amount_Overrun_Percentage__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Amount Overrun Percentage</label>
        <precision>6</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>pse__Amount_Remaining__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>pse__Amount__c - pse__Amount_Consumed__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Amount Remaining</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Amount__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Expense_Amount_Consumed__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expense Amount Consumed</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Expense_Amount_Overrun_Allowed__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expense Amount Overrun Allowed</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>pse__Expense_Amount_Overrun_Percentage__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expense Amount Overrun Percentage</label>
        <precision>6</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>pse__Expense_Amount_Remaining__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>pse__Expense_Amount__c - pse__Expense_Amount_Consumed__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Expense Amount Remaining</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Expense_Amount__c</fullName>
        <defaultValue>0</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Expense Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Maximum_Consumable_Total_Amount__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>IF(pse__Total_Amount_Overrun_Allowed__c,(1+pse__Total_Amount_Overrun_Percentage__c)*pse__Total_Amount__c,pse__Total_Amount__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Maximum Consumable Total Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Percent_Total_Amount_Remaining__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>IF(pse__Total_Amount__c=0,1,(pse__Total_Amount__c-pse__Total_Amount_Consumed__c)/pse__Total_Amount__c)</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Percent Total Amount Remaining</label>
        <precision>18</precision>
        <required>false</required>
        <scale>1</scale>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>pse__Project__c</fullName>
        <deleteConstraint>SetNull</deleteConstraint>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Project</label>
        <referenceTo>pse__Proj__c</referenceTo>
        <relationshipName>Budget_Headers</relationshipName>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Lookup</type>
    </fields>
    <fields>
        <fullName>pse__Total_Amount_Consumed__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>pse__Amount_Consumed__c +  pse__Expense_Amount_Consumed__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Total Amount Consumed</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Total_Amount_Overrun_Allowed__c</fullName>
        <defaultValue>false</defaultValue>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total Amount Overrun Allowed</label>
        <trackTrending>false</trackTrending>
        <type>Checkbox</type>
    </fields>
    <fields>
        <fullName>pse__Total_Amount_Overrun_Percentage__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Total Amount Overrun Percentage</label>
        <precision>6</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Percent</type>
    </fields>
    <fields>
        <fullName>pse__Total_Amount_Remaining__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>pse__Total_Amount__c - pse__Amount_Consumed__c - pse__Expense_Amount_Consumed__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Total Amount Remaining</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Total_Amount__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <formula>pse__Amount__c + pse__Expense_Amount__c</formula>
        <formulaTreatBlanksAs>BlankAsZero</formulaTreatBlanksAs>
        <label>Total Amount</label>
        <precision>18</precision>
        <required>false</required>
        <scale>2</scale>
        <trackTrending>false</trackTrending>
        <type>Currency</type>
    </fields>
    <fields>
        <fullName>pse__Type__c</fullName>
        <deprecated>false</deprecated>
        <externalId>false</externalId>
        <label>Type</label>
        <required>false</required>
        <trackTrending>false</trackTrending>
        <type>Picklist</type>
        <valueSet>
            <valueSetDefinition>
                <sorted>false</sorted>
                <value>
                    <fullName>Customer Purchase Order</fullName>
                    <default>false</default>
                    <label>Customer Purchase Order</label>
                </value>
                <value>
                    <fullName>Vendor Purchase Order</fullName>
                    <default>false</default>
                    <label>Vendor Purchase Order</label>
                </value>
                <value>
                    <fullName>Work Order</fullName>
                    <default>false</default>
                    <label>Work Order</label>
                </value>
                <value>
                    <fullName>Internal Budget</fullName>
                    <default>false</default>
                    <label>Internal Budget</label>
                </value>
                <value>
                    <fullName>Customer Purchase Order Change Request</fullName>
                    <default>false</default>
                    <label>Customer Purchase Order Change Request</label>
                </value>
                <value>
                    <fullName>Vendor Purchase Order Change Request</fullName>
                    <default>false</default>
                    <label>Vendor Purchase Order Change Request</label>
                </value>
                <value>
                    <fullName>Work Order Change Request</fullName>
                    <default>false</default>
                    <label>Work Order Change Request</label>
                </value>
                <value>
                    <fullName>Internal Budget Change Request</fullName>
                    <default>false</default>
                    <label>Internal Budget Change Request</label>
                </value>
            </valueSetDefinition>
        </valueSet>
    </fields>
    <label>Budget Header</label>
    <listViews>
        <fullName>pse__All</fullName>
        <filterScope>Everything</filterScope>
        <label>All</label>
    </listViews>
    <nameField>
        <label>Budget Header Name</label>
        <type>Text</type>
    </nameField>
    <pluralLabel>Budget Headers</pluralLabel>
    <searchLayouts>
        <customTabListAdditionalFields>pse__Account__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>pse__Project__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>pse__Type__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>pse__Active__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>pse__Amount__c</customTabListAdditionalFields>
        <customTabListAdditionalFields>pse__Percent_Total_Amount_Remaining__c</customTabListAdditionalFields>
    </searchLayouts>
    <sharingModel>ReadWrite</sharingModel>
    <validationRules>
        <fullName>pse__Account_required_and_constant</fullName>
        <active>true</active>
        <errorConditionFormula>OR(LEN(pse__Account__c)=0,ISCHANGED(pse__Account__c))</errorConditionFormula>
        <errorDisplayField>pse__Account__c</errorDisplayField>
        <errorMessage>Account is required and cannot be changed once set</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Budget_Amount_Consumed_Required</fullName>
        <active>true</active>
        <errorConditionFormula>ISNULL(pse__Amount_Consumed__c)</errorConditionFormula>
        <errorDisplayField>pse__Amount_Consumed__c</errorDisplayField>
        <errorMessage>Budget Amount Consumed is required</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Budget_Total_Required</fullName>
        <active>true</active>
        <description>Budget Total is required</description>
        <errorConditionFormula>ISNULL(pse__Amount__c)</errorConditionFormula>
        <errorDisplayField>pse__Amount__c</errorDisplayField>
        <errorMessage>Budget Total is required</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Currency_is_constant</fullName>
        <active>true</active>
        <errorConditionFormula>ISCHANGED(CurrencyIsoCode)</errorConditionFormula>
        <errorDisplayField>CurrencyIsoCode</errorDisplayField>
        <errorMessage>Currency cannot be changed</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Enforce_Amount_Overrun</fullName>
        <active>true</active>
        <errorConditionFormula>IF(pse__Amount_Overrun_Allowed__c,
    IF(OR(ISNULL(pse__Amount_Overrun_Percentage__c),pse__Amount_Overrun_Percentage__c=0),
        pse__Amount_Consumed__c + pse__Expense_Amount_Consumed__c &gt; (1+pse__Total_Amount_Overrun_Percentage__c)*pse__Total_Amount__c, 
        pse__Amount_Consumed__c &gt; (pse__Amount__c *  (1+pse__Amount_Overrun_Percentage__c)) ),
    pse__Amount_Consumed__c &gt; pse__Amount__c)</errorConditionFormula>
        <errorMessage>Cannot update budget amount because the amount consumed is greater than the maximum allowable amount.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Enforce_Expense_Amount_Overrun</fullName>
        <active>true</active>
        <errorConditionFormula>IF(pse__Expense_Amount_Overrun_Allowed__c,
    IF(OR(ISNULL(pse__Expense_Amount_Overrun_Percentage__c),pse__Expense_Amount_Overrun_Percentage__c=0),
        pse__Amount_Consumed__c + pse__Expense_Amount_Consumed__c &gt; (1+pse__Total_Amount_Overrun_Percentage__c)*pse__Total_Amount__c, 
        pse__Expense_Amount_Consumed__c &gt; (pse__Expense_Amount__c *  (1+pse__Expense_Amount_Overrun_Percentage__c)) ),
    pse__Expense_Amount_Consumed__c &gt; pse__Expense_Amount__c)</errorConditionFormula>
        <errorMessage>Cannot update budget amount because the amount consumed is greater than the maximum allowable expense amount.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Enforce_Total_Amount_Overrun</fullName>
        <active>true</active>
        <errorConditionFormula>IF(pse__Total_Amount_Overrun_Allowed__c,
    pse__Total_Amount_Consumed__c &gt; (1+pse__Total_Amount_Overrun_Percentage__c)*pse__Total_Amount__c,
    pse__Total_Amount_Consumed__c &gt; pse__Total_Amount__c)</errorConditionFormula>
        <errorMessage>Cannot update budget amount because the amount consumed is greater than the maximum allowable total amount.</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Project_Currency_Mismatch</fullName>
        <active>true</active>
        <errorConditionFormula>TEXT(CurrencyIsoCode) != TEXT(pse__Project__r.CurrencyIsoCode)</errorConditionFormula>
        <errorDisplayField>pse__Project__c</errorDisplayField>
        <errorMessage>The project&apos;s currency must match the currency of this budget header</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Project_required_and_constant</fullName>
        <active>true</active>
        <errorConditionFormula>OR(ISCHANGED(pse__Project__c),LEN(pse__Project__c)=0)</errorConditionFormula>
        <errorDisplayField>pse__Project__c</errorDisplayField>
        <errorMessage>Project is required and cannot be changed once set</errorMessage>
    </validationRules>
    <validationRules>
        <fullName>pse__Total_Overrun_Requires_Other_Overrun</fullName>
        <active>true</active>
        <description>If the total overrun is allowed, amount overrun and/or expense overrun must also be allowed</description>
        <errorConditionFormula>AND(pse__Total_Amount_Overrun_Allowed__c,NOT(pse__Amount_Overrun_Allowed__c),NOT(pse__Expense_Amount_Overrun_Allowed__c))</errorConditionFormula>
        <errorDisplayField>pse__Total_Amount_Overrun_Allowed__c</errorDisplayField>
        <errorMessage>If Total Amount Overrun Allowed is checked, Amount Overrun Allowed and/or Expense Amount Overrun Allowed must also be checked.</errorMessage>
    </validationRules>
    <visibility>Public</visibility>
</CustomObject>
